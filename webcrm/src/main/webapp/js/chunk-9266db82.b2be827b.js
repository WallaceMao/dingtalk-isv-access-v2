(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9266db82"],{"7f97":function(t,e,o){"use strict";(function(t){o.d(e,"a",function(){return r});var n=o("b775");function r(e,o,r){return n["a"].post("".concat(t.basic.LOGIN,"?corpId=").concat(e,"&username=").concat(o,"&password=").concat(r),{headers:{"Content-Type":"application/json"}}).then(function(t){return t.data})}}).call(this,o("8a20")["default"])},c6f7:function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=this,o=e.$createElement,n=e._self._c||o;return n("div",{staticClass:"container"},[n("div",{staticClass:"content"},[e._m(0),n("div",{staticClass:"login"},[n("a-form",{attrs:{autoFormCreate:function(e){return t.form=e}},on:{submit:e.onSubmit}},[n("a-form-item",{attrs:{fieldDecoratorId:"companyId",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入公司ID",whitespace:!0}]}}},[n("a-input",{attrs:{size:"large",placeholder:"公司ID"}},[n("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{fieldDecoratorId:"name",fieldDecoratorOptions:{rules:[{required:!0,message:"请输入账户名",whitespace:!0}]}}},[n("a-input",{attrs:{size:"large",placeholder:"账户"}},[n("a-icon",{attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),n("a-form-item",{attrs:{fieldDecoratorId:"password",fieldDecoratorOptions:{rules:[{required:!1,message:"请输入密码",whitespace:!0}]}}},[n("a-input",{attrs:{size:"large",placeholder:"密码",type:"password"}},[n("a-icon",{attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),n("a-form-item",[n("a-button",{staticStyle:{width:"100%","margin-top":"24px"},attrs:{loading:e.logging,size:"large",htmlType:"submit",type:"primary"}},[e._v("登录")])],1)],1)],1)])])},r=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"top"},[o("div",{staticClass:"header"},[o("span",{staticClass:"title"},[t._v("功倍CRM管理系统")])])])}];function a(t){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(t){return i="function"===typeof Symbol&&"symbol"===a(Symbol.iterator)?function(t){return a(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":a(t)},i(t)}o("cadf"),o("551c"),o("097d");var c={converseToBase64:function(t){var e="";return"string"===typeof t?e=t:"object"===i(t)&&(e=JSON.stringify(t)),window.btoa(unescape(encodeURIComponent(e)))}},s=o("7f97"),l={name:"loginPage",data:function(){return{logging:!1,checked:!1}},components:{},computed:{},methods:{onSubmit:function(t){var e=this;t.preventDefault(),this.form.validateFields(function(t){t||(e.logging=!0,localStorage.removeItem("login_token"),Object(s["a"])(e.form.getFieldValue("companyId"),e.form.getFieldValue("name"),e.form.getFieldValue("password")).then(function(t){console.log(t),e.logging=!1,"0"===t.errcode?e.$router.push("/home"):(e.$message.warning("公司ID或用户名填写不正确！"),e.logging=!1)}).catch(function(t){e.$message.warning("ERROR公司ID或用户名填写不正确！"),e.logging=!1}))})},autoLoginHandle:function(t){this.checked=t.target.checked}},watch:{checked:function(t){if(!0===t){var e=this.form.getFieldValue("name"),o=c.converseToBase64(this.form.getFieldValue("password"));localStorage.setItem("admin",e),localStorage.setItem("passwo",o)}else this.checked=!1,localStorage.removeItem("admin"),localStorage.removeItem("passwo")}},mounted:function(){if(localStorage.getItem("passwo")){this.checked=!0;var t=localStorage.getItem("admin"),e=c.converseToStr(localStorage.getItem("passwo"));this.form.setFieldsValue({name:t,password:e})}}},u=l,f=(o("ccd3"),o("2877")),m=Object(f["a"])(u,n,r,!1,null,"ad7865cc",null);m.options.__file="login.vue";e["default"]=m.exports},ccd3:function(t,e,o){"use strict";var n=o("cdff"),r=o.n(n);r.a},cdff:function(t,e,o){}}]);
//# sourceMappingURL=chunk-9266db82.b2be827b.js.map